"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./context/CartContext.tsx":
/*!*********************************!*\
  !*** ./context/CartContext.tsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CartProvider: function() { return /* binding */ CartProvider; },\n/* harmony export */   useCart: function() { return /* binding */ useCart; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\nconst CartContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\nfunction CartProvider(param) {\n    let { children } = param;\n    _s();\n    const [cart, setCart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [identification, setIdentification] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const now = new Date().getTime();\n        const storedCart = localStorage.getItem(\"@CafeLuna:cart\");\n        const storedHistory = localStorage.getItem(\"@CafeLuna:history\");\n        const storedId = localStorage.getItem(\"@CafeLuna:id\");\n        const lastUpdate = localStorage.getItem(\"@CafeLuna:lastUpdate\");\n        if (lastUpdate && now - Number(lastUpdate) > 12 * 60 * 60 * 1000) {\n            localStorage.removeItem(\"@CafeLuna:cart\");\n            localStorage.removeItem(\"@CafeLuna:history\");\n            setCart([]);\n            setHistory([]);\n        } else {\n            if (storedCart) {\n                try {\n                    setCart(JSON.parse(storedCart));\n                } catch (e) {\n                    localStorage.removeItem(\"@CafeLuna:cart\");\n                }\n            }\n            if (storedHistory) {\n                try {\n                    setHistory(JSON.parse(storedHistory));\n                } catch (e) {\n                    localStorage.removeItem(\"@CafeLuna:history\");\n                }\n            }\n            if (storedId) setIdentification(storedId);\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        localStorage.setItem(\"@CafeLuna:cart\", JSON.stringify(cart));\n        localStorage.setItem(\"@CafeLuna:history\", JSON.stringify(history));\n        localStorage.setItem(\"@CafeLuna:id\", identification);\n        localStorage.setItem(\"@CafeLuna:lastUpdate\", String(new Date().getTime()));\n    }, [\n        cart,\n        history,\n        identification\n    ]);\n    const addToCart = (product)=>{\n        setCart((currentCart)=>{\n            const itemExists = currentCart.find((item)=>String(item.id) === String(product.id));\n            if (itemExists) {\n                return currentCart.map((item)=>String(item.id) === String(product.id) ? {\n                        ...item,\n                        quantityCount: item.quantityCount + 1\n                    } : item);\n            } else {\n                return [\n                    ...currentCart,\n                    {\n                        ...product,\n                        quantityCount: 1\n                    }\n                ];\n            }\n        });\n    };\n    const decreaseQuantity = (productId)=>{\n        setCart((currentCart)=>{\n            const itemExists = currentCart.find((item)=>String(item.id) === String(productId));\n            if (!itemExists) return currentCart;\n            if (itemExists.quantityCount === 1) {\n                return currentCart.filter((item)=>String(item.id) !== String(productId));\n            } else {\n                return currentCart.map((item)=>String(item.id) === String(productId) ? {\n                        ...item,\n                        quantityCount: item.quantityCount - 1\n                    } : item);\n            }\n        });\n    };\n    const removeFromCart = (productId)=>{\n        setCart((currentCart)=>currentCart.filter((item)=>String(item.id) !== String(productId)));\n    };\n    const confirmOrderToHistory = ()=>{\n        setHistory((currentHistory)=>{\n            const newHistory = [\n                ...currentHistory\n            ];\n            cart.forEach((cartItem)=>{\n                const existingItem = newHistory.find((h)=>String(h.id) === String(cartItem.id));\n                if (existingItem) {\n                    existingItem.quantityCount += cartItem.quantityCount;\n                } else {\n                    newHistory.push(cartItem);\n                }\n            });\n            return newHistory;\n        });\n        setCart([]);\n    };\n    const closeTab = ()=>{\n        setCart([]);\n        setHistory([]);\n        localStorage.removeItem(\"@CafeLuna:cart\");\n        localStorage.removeItem(\"@CafeLuna:history\");\n    };\n    const clearCart = ()=>setCart([]);\n    // CÁLCULOS COM PROTEÇÃO CONTRA ERROS (Number + || 0)\n    const calculateTotal = (items)=>{\n        return items.reduce((sum, item)=>{\n            const price = Number(item.price) || 0;\n            const qtd = Number(item.quantityCount) || 0;\n            return sum + price * qtd;\n        }, 0);\n    };\n    const totalCart = calculateTotal(cart);\n    const totalHistory = calculateTotal(history);\n    const totalGrand = totalCart + totalHistory;\n    const cartCount = cart.reduce((sum, item)=>sum + (Number(item.quantityCount) || 0), 0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CartContext.Provider, {\n        value: {\n            cart,\n            history,\n            addToCart,\n            decreaseQuantity,\n            removeFromCart,\n            clearCart,\n            confirmOrderToHistory,\n            closeTab,\n            totalCart,\n            totalHistory,\n            totalGrand,\n            cartCount,\n            identification,\n            setIdentification\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\User\\\\Desktop\\\\Folder\\\\meu-menu-cafe\\\\context\\\\CartContext.tsx\",\n        lineNumber: 142,\n        columnNumber: 5\n    }, this);\n}\n_s(CartProvider, \"xQP235PtIfMIPUWE+xz6pXOBRG0=\");\n_c = CartProvider;\nconst useCart = ()=>{\n    _s1();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(CartContext);\n};\n_s1(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBT0MsUUFBUUM7UUFDeEIsR0FBRztJQUNMO0lBRUEsTUFBTUMsWUFBWU4sZUFBZTdDO0lBQ2pDLE1BQU1vRCxlQUFlUCxlQUFlM0M7SUFDcEMsTUFBTW1ELGFBQWFGLFlBQVlDO0lBRS9CLE1BQU1FLFlBQVl0RCxLQUFLK0MsTUFBTSxDQUFDLENBQUNDLEtBQUtyQixPQUFTcUIsTUFBT2pDLENBQUFBLE9BQU9ZLEtBQUtHLGFBQWEsS0FBSyxJQUFJO0lBRXRGLHFCQUNFLDhEQUFDakMsWUFBWTBELFFBQVE7UUFBQ0MsT0FBTztZQUMzQnhEO1lBQU1FO1lBQVNvQjtZQUFXUztZQUFrQkc7WUFBZ0JVO1lBQzVEVDtZQUF1QlE7WUFDdkJRO1lBQVdDO1lBQWNDO1lBQVlDO1lBQ3JDbEQ7WUFBZ0JDO1FBQ2xCO2tCQUNHTjs7Ozs7O0FBR1A7R0FwSGdCRDtLQUFBQTtBQXNIVCxNQUFNMkQsVUFBVTs7SUFBTS9ELE9BQUFBLGlEQUFVQSxDQUFDRztBQUFXLEVBQUU7SUFBeEM0RCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb250ZXh0L0NhcnRDb250ZXh0LnRzeD9jMzIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCBSZWFjdE5vZGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmludGVyZmFjZSBQcm9kdWN0IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBwcmljZTogbnVtYmVyO1xyXG4gIGltYWdlVXJsOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBxdWFudGl0eT86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIENhcnRJdGVtIGV4dGVuZHMgUHJvZHVjdCB7XHJcbiAgcXVhbnRpdHlDb3VudDogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2FydENvbnRleHREYXRhIHtcclxuICBjYXJ0OiBDYXJ0SXRlbVtdO1xyXG4gIGhpc3Rvcnk6IENhcnRJdGVtW107XHJcbiAgYWRkVG9DYXJ0OiAocHJvZHVjdDogUHJvZHVjdCkgPT4gdm9pZDtcclxuICBkZWNyZWFzZVF1YW50aXR5OiAocHJvZHVjdElkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgcmVtb3ZlRnJvbUNhcnQ6IChwcm9kdWN0SWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBjbGVhckNhcnQ6ICgpID0+IHZvaWQ7XHJcbiAgY29uZmlybU9yZGVyVG9IaXN0b3J5OiAoKSA9PiB2b2lkO1xyXG4gIGNsb3NlVGFiOiAoKSA9PiB2b2lkO1xyXG4gIHRvdGFsQ2FydDogbnVtYmVyO1xyXG4gIHRvdGFsSGlzdG9yeTogbnVtYmVyO1xyXG4gIHRvdGFsR3JhbmQ6IG51bWJlcjtcclxuICBjYXJ0Q291bnQ6IG51bWJlcjtcclxuICBpZGVudGlmaWNhdGlvbjogc3RyaW5nO1xyXG4gIHNldElkZW50aWZpY2F0aW9uOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgQ2FydENvbnRleHQgPSBjcmVhdGVDb250ZXh0PENhcnRDb250ZXh0RGF0YT4oe30gYXMgQ2FydENvbnRleHREYXRhKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDYXJ0UHJvdmlkZXIoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkge1xyXG4gIGNvbnN0IFtjYXJ0LCBzZXRDYXJ0XSA9IHVzZVN0YXRlPENhcnRJdGVtW10+KFtdKTtcclxuICBjb25zdCBbaGlzdG9yeSwgc2V0SGlzdG9yeV0gPSB1c2VTdGF0ZTxDYXJ0SXRlbVtdPihbXSk7XHJcbiAgY29uc3QgW2lkZW50aWZpY2F0aW9uLCBzZXRJZGVudGlmaWNhdGlvbl0gPSB1c2VTdGF0ZShcIlwiKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgY29uc3Qgc3RvcmVkQ2FydCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdAQ2FmZUx1bmE6Y2FydCcpO1xyXG4gICAgY29uc3Qgc3RvcmVkSGlzdG9yeSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdAQ2FmZUx1bmE6aGlzdG9yeScpO1xyXG4gICAgY29uc3Qgc3RvcmVkSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQENhZmVMdW5hOmlkJyk7XHJcbiAgICBjb25zdCBsYXN0VXBkYXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0BDYWZlTHVuYTpsYXN0VXBkYXRlJyk7XHJcblxyXG4gICAgaWYgKGxhc3RVcGRhdGUgJiYgKG5vdyAtIE51bWJlcihsYXN0VXBkYXRlKSA+IDEyICogNjAgKiA2MCAqIDEwMDApKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdAQ2FmZUx1bmE6Y2FydCcpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnQENhZmVMdW5hOmhpc3RvcnknKTtcclxuICAgICAgc2V0Q2FydChbXSk7XHJcbiAgICAgIHNldEhpc3RvcnkoW10pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHN0b3JlZENhcnQpIHtcclxuICAgICAgICB0cnkgeyBzZXRDYXJ0KEpTT04ucGFyc2Uoc3RvcmVkQ2FydCkpOyB9IGNhdGNoIHsgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ0BDYWZlTHVuYTpjYXJ0Jyk7IH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoc3RvcmVkSGlzdG9yeSkge1xyXG4gICAgICAgIHRyeSB7IHNldEhpc3RvcnkoSlNPTi5wYXJzZShzdG9yZWRIaXN0b3J5KSk7IH0gY2F0Y2ggeyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnQENhZmVMdW5hOmhpc3RvcnknKTsgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzdG9yZWRJZCkgc2V0SWRlbnRpZmljYXRpb24oc3RvcmVkSWQpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdAQ2FmZUx1bmE6Y2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnQpKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdAQ2FmZUx1bmE6aGlzdG9yeScsIEpTT04uc3RyaW5naWZ5KGhpc3RvcnkpKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdAQ2FmZUx1bmE6aWQnLCBpZGVudGlmaWNhdGlvbik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnQENhZmVMdW5hOmxhc3RVcGRhdGUnLCBTdHJpbmcobmV3IERhdGUoKS5nZXRUaW1lKCkpKTtcclxuICB9LCBbY2FydCwgaGlzdG9yeSwgaWRlbnRpZmljYXRpb25dKTtcclxuXHJcbiAgY29uc3QgYWRkVG9DYXJ0ID0gKHByb2R1Y3Q6IFByb2R1Y3QpID0+IHtcclxuICAgIHNldENhcnQoKGN1cnJlbnRDYXJ0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1FeGlzdHMgPSBjdXJyZW50Q2FydC5maW5kKChpdGVtKSA9PiBTdHJpbmcoaXRlbS5pZCkgPT09IFN0cmluZyhwcm9kdWN0LmlkKSk7XHJcbiAgICAgIGlmIChpdGVtRXhpc3RzKSB7XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRDYXJ0Lm1hcCgoaXRlbSkgPT5cclxuICAgICAgICAgIFN0cmluZyhpdGVtLmlkKSA9PT0gU3RyaW5nKHByb2R1Y3QuaWQpID8geyAuLi5pdGVtLCBxdWFudGl0eUNvdW50OiBpdGVtLnF1YW50aXR5Q291bnQgKyAxIH0gOiBpdGVtXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRDYXJ0LCB7IC4uLnByb2R1Y3QsIHF1YW50aXR5Q291bnQ6IDEgfV07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRlY3JlYXNlUXVhbnRpdHkgPSAocHJvZHVjdElkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldENhcnQoKGN1cnJlbnRDYXJ0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1FeGlzdHMgPSBjdXJyZW50Q2FydC5maW5kKChpdGVtKSA9PiBTdHJpbmcoaXRlbS5pZCkgPT09IFN0cmluZyhwcm9kdWN0SWQpKTtcclxuICAgICAgaWYgKCFpdGVtRXhpc3RzKSByZXR1cm4gY3VycmVudENhcnQ7XHJcbiAgICAgIGlmIChpdGVtRXhpc3RzLnF1YW50aXR5Q291bnQgPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudENhcnQuZmlsdGVyKChpdGVtKSA9PiBTdHJpbmcoaXRlbS5pZCkgIT09IFN0cmluZyhwcm9kdWN0SWQpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudENhcnQubWFwKChpdGVtKSA9PlxyXG4gICAgICAgICAgU3RyaW5nKGl0ZW0uaWQpID09PSBTdHJpbmcocHJvZHVjdElkKSA/IHsgLi4uaXRlbSwgcXVhbnRpdHlDb3VudDogaXRlbS5xdWFudGl0eUNvdW50IC0gMSB9IDogaXRlbVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbW92ZUZyb21DYXJ0ID0gKHByb2R1Y3RJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRDYXJ0KChjdXJyZW50Q2FydCkgPT4gY3VycmVudENhcnQuZmlsdGVyKChpdGVtKSA9PiBTdHJpbmcoaXRlbS5pZCkgIT09IFN0cmluZyhwcm9kdWN0SWQpKSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY29uZmlybU9yZGVyVG9IaXN0b3J5ID0gKCkgPT4ge1xyXG4gICAgc2V0SGlzdG9yeSgoY3VycmVudEhpc3RvcnkpID0+IHtcclxuICAgICAgY29uc3QgbmV3SGlzdG9yeSA9IFsuLi5jdXJyZW50SGlzdG9yeV07XHJcbiAgICAgIGNhcnQuZm9yRWFjaChjYXJ0SXRlbSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gbmV3SGlzdG9yeS5maW5kKGggPT4gU3RyaW5nKGguaWQpID09PSBTdHJpbmcoY2FydEl0ZW0uaWQpKTtcclxuICAgICAgICBpZiAoZXhpc3RpbmdJdGVtKSB7XHJcbiAgICAgICAgICBleGlzdGluZ0l0ZW0ucXVhbnRpdHlDb3VudCArPSBjYXJ0SXRlbS5xdWFudGl0eUNvdW50O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuZXdIaXN0b3J5LnB1c2goY2FydEl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBuZXdIaXN0b3J5O1xyXG4gICAgfSk7XHJcbiAgICBzZXRDYXJ0KFtdKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZVRhYiA9ICgpID0+IHtcclxuICAgIHNldENhcnQoW10pO1xyXG4gICAgc2V0SGlzdG9yeShbXSk7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnQENhZmVMdW5hOmNhcnQnKTtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdAQ2FmZUx1bmE6aGlzdG9yeScpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsZWFyQ2FydCA9ICgpID0+IHNldENhcnQoW10pO1xyXG5cclxuICAvLyBDw4FMQ1VMT1MgQ09NIFBST1RFw4fDg08gQ09OVFJBIEVSUk9TIChOdW1iZXIgKyB8fCAwKVxyXG4gIGNvbnN0IGNhbGN1bGF0ZVRvdGFsID0gKGl0ZW1zOiBDYXJ0SXRlbVtdKSA9PiB7XHJcbiAgICByZXR1cm4gaXRlbXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHtcclxuICAgICAgY29uc3QgcHJpY2UgPSBOdW1iZXIoaXRlbS5wcmljZSkgfHwgMDtcclxuICAgICAgY29uc3QgcXRkID0gTnVtYmVyKGl0ZW0ucXVhbnRpdHlDb3VudCkgfHwgMDtcclxuICAgICAgcmV0dXJuIHN1bSArIChwcmljZSAqIHF0ZCk7XHJcbiAgICB9LCAwKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB0b3RhbENhcnQgPSBjYWxjdWxhdGVUb3RhbChjYXJ0KTtcclxuICBjb25zdCB0b3RhbEhpc3RvcnkgPSBjYWxjdWxhdGVUb3RhbChoaXN0b3J5KTtcclxuICBjb25zdCB0b3RhbEdyYW5kID0gdG90YWxDYXJ0ICsgdG90YWxIaXN0b3J5O1xyXG4gIFxyXG4gIGNvbnN0IGNhcnRDb3VudCA9IGNhcnQucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIChOdW1iZXIoaXRlbS5xdWFudGl0eUNvdW50KSB8fCAwKSwgMCk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Q2FydENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgXHJcbiAgICAgIGNhcnQsIGhpc3RvcnksIGFkZFRvQ2FydCwgZGVjcmVhc2VRdWFudGl0eSwgcmVtb3ZlRnJvbUNhcnQsIGNsZWFyQ2FydCwgXHJcbiAgICAgIGNvbmZpcm1PcmRlclRvSGlzdG9yeSwgY2xvc2VUYWIsXHJcbiAgICAgIHRvdGFsQ2FydCwgdG90YWxIaXN0b3J5LCB0b3RhbEdyYW5kLCBjYXJ0Q291bnQsXHJcbiAgICAgIGlkZW50aWZpY2F0aW9uLCBzZXRJZGVudGlmaWNhdGlvblxyXG4gICAgfX0+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvQ2FydENvbnRleHQuUHJvdmlkZXI+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHVzZUNhcnQgPSAoKSA9PiB1c2VDb250ZXh0KENhcnRDb250ZXh0KTsiXSwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkNhcnRDb250ZXh0IiwiQ2FydFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjYXJ0Iiwic2V0Q2FydCIsImhpc3RvcnkiLCJzZXRIaXN0b3J5IiwiaWRlbnRpZmljYXRpb24iLCJzZXRJZGVudGlmaWNhdGlvbiIsIm5vdyIsIkRhdGUiLCJnZXRUaW1lIiwic3RvcmVkQ2FydCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9yZWRIaXN0b3J5Iiwic3RvcmVkSWQiLCJsYXN0VXBkYXRlIiwiTnVtYmVyIiwicmVtb3ZlSXRlbSIsIkpTT04iLCJwYXJzZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJTdHJpbmciLCJhZGRUb0NhcnQiLCJwcm9kdWN0IiwiY3VycmVudENhcnQiLCJpdGVtRXhpc3RzIiwiZmluZCIsIml0ZW0iLCJpZCIsIm1hcCIsInF1YW50aXR5Q291bnQiLCJkZWNyZWFzZVF1YW50aXR5IiwicHJvZHVjdElkIiwiZmlsdGVyIiwicmVtb3ZlRnJvbUNhcnQiLCJjb25maXJtT3JkZXJUb0hpc3RvcnkiLCJjdXJyZW50SGlzdG9yeSIsIm5ld0hpc3RvcnkiLCJmb3JFYWNoIiwiY2FydEl0ZW0iLCJleGlzdGluZ0l0ZW0iLCJoIiwicHVzaCIsImNsb3NlVGFiIiwiY2xlYXJDYXJ0IiwiY2FsY3VsYXRlVG90YWwiLCJpdGVtcyIsInJlZHVjZSIsInN1bSIsInByaWNlIiwicXRkIiwidG90YWxDYXJ0IiwidG90YWxIaXN0b3J5IiwidG90YWxHcmFuZCIsImNhcnRDb3VudCIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VDYXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./context/CartContext.tsx\n"));

/***/ })

});